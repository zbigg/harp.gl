((self||this).webpackJsonp=(self||this).webpackJsonp||[]).push([[5],{27:function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function u(){u.init.call(this)}e.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var c=10;function l(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function h(e,t,n,r){var o,i,s,u;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=l(e))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,u=c,console&&console.warn&&console.warn(u)}return e}function a(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,i(this.listener,this.target,e))}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=a.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):g(o,o.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return l(this)},u.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var u=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw u.context=s,u}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var l=c.length,h=g(c,l);for(n=0;n<l;++n)i(h[n],this,t)}return!0},u.prototype.addListener=function(e,t){return h(this,e,t,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(e,t){return h(this,e,t,!0)},u.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,f(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,f(this,e,t)),this},u.prototype.removeListener=function(e,t){var n,r,o,i,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},u.prototype.listeners=function(e){return p(this,e,!0)},u.prototype.rawListeners=function(e){return p(this,e,!1)},u.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},u.prototype.listenerCount=d,u.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},3:function(e,t,n){"use strict";class r{constructor(e,t=new Array){this.priority=e,this.elements=t}clone(){return new r(this.priority,this.elements.slice())}}class o{constructor(){this.groups=new Map}add(e){this.getGroup(e.priority).elements.push(e)}remove(e){const t=this.getGroup(e.priority);if(void 0!==t){const n=t.elements.indexOf(e);if(n>=0){if(t.elements.splice(n,1),0===t.elements.length){const t=Math.floor(e.priority);this.groups.delete(t),this.m_sortedGroups&&(this.m_sortedGroups=[])}return!0}}return!1}clear(){this.groups.clear(),this.m_sortedGroups&&(this.m_sortedGroups=[])}merge(e){for(const t of e.groups){const e=this.findGroup(t[1].priority);void 0!==e?e.elements=e.elements.concat(t[1].elements):(this.groups.set(Math.floor(t[1].priority),t[1].clone()),this.m_sortedGroups&&(this.m_sortedGroups=[]))}return this}get sortedGroups(){if(this.m_sortedGroups&&this.m_sortedGroups.length>0)return this.m_sortedGroups;this.m_sortedGroups||(this.m_sortedGroups=[]);for(const e of this.groups)this.m_sortedGroups.push(e[1]);return this.m_sortedGroups.sort((e,t)=>t.priority-e.priority),this.m_sortedGroups}forEach(e){for(const t of this.groups)t[1].elements.forEach(e)}count(){let e=0;for(const t of this.groups)e+=t[1].elements.length;return e}findGroup(e){const t=Math.floor(e);return this.groups.get(t)}getGroup(e){let t=this.findGroup(e);if(void 0===t){const n=Math.floor(e);t=new r(n),this.groups.set(n,t),this.m_sortedGroups&&(this.m_sortedGroups=[])}return t}}class i{error(e,...t){console.error(e,...t)}debug(e,...t){console.debug(e,...t)}info(e,...t){console.info(e,...t)}log(e,...t){console.log(e,...t)}trace(e,...t){console.trace(e,...t)}warn(e,...t){console.warn(e,...t)}}var s;!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Log=2]="Log",e[e.Info=3]="Info",e[e.Warn=4]="Warn",e[e.Error=5]="Error"}(s||(s={}));class u{constructor(e,t,n){this.name=e,this.m_channel=t,this.enabled=!0,this.level=s.Trace,void 0!==n&&this.update(n)}error(e,...t){this.enabled&&this.level<=s.Error&&this.m_channel.error(this.prefix,e,...t)}debug(e,...t){this.enabled&&this.level<=s.Debug&&this.m_channel.debug(this.prefix,e,...t)}info(e,...t){this.enabled&&this.level<=s.Info&&this.m_channel.info(this.prefix,e,...t)}log(e,...t){this.enabled&&this.level<=s.Log&&this.m_channel.log(this.prefix,e,...t)}trace(e,...t){this.enabled&&this.level<=s.Trace&&this.m_channel.trace(this.prefix,e,...t)}warn(e,...t){this.enabled&&this.level<=s.Warn&&this.m_channel.warn(this.prefix,e,...t)}update(e){this.enabled=void 0===e.enabled?this.enabled:e.enabled,this.level=void 0===e.level?this.level:e.level}get prefix(){return this.name+":"}}const c="worker-channel-message";class l{error(e,...t){const n={message:[e,...t],type:c,level:s.Error};self.postMessage(n)}debug(e,...t){const n={message:[e,...t],type:c,level:s.Debug};self.postMessage(n)}info(e,...t){const n={message:[e,...t],type:c,level:s.Info};self.postMessage(n)}log(e,...t){const n={message:[e,...t],type:c,level:s.Log};self.postMessage(n)}trace(e,...t){const n={message:[e,...t],type:c,level:s.Trace};self.postMessage(n)}warn(e,...t){const n={message:[e,...t],type:c,level:s.Warn};self.postMessage(n)}}class h{constructor(){this.m_loggers=[],this.channel="undefined"==typeof self||void 0!==self.document?new i:new l}getLoggerNames(){return this.m_loggers.map(e=>e.name)}getLogger(e){return this.m_loggers.find(t=>t.name===e)}create(e,t={}){void 0!==this.m_levelSetForAll&&(void 0===t.level||t.level<this.m_levelSetForAll)&&(t.level=this.m_levelSetForAll);const n=new u(e,this.channel,t);return this.m_loggers.push(n),n}dispose(e){const t=this.m_loggers.indexOf(e);if(t<0)throw new Error(`Cannot unregister "${e}" : no such logger registered.`);this.m_loggers.splice(t,1)}updateAll(e){for(const t of this.m_loggers)t.update(e)}update(e,t){for(const n of this.m_loggers)n.name===e&&n.update(t)}enableAll(e){for(const t of this.m_loggers)t.enabled=e}enable(e,t){this.update(e,{enabled:t})}setLogLevelForAll(e){this.m_levelSetForAll=e;for(const t of this.m_loggers)t.level=e}setLogLevel(e,t){this.update(e,{level:t})}setChannel(e){this.channel=e}}class a{static get instance(){return this.m_instance||(this.m_instance=new h)}}var f,p;function d(e,t){t.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(n=>{const r=Object.getOwnPropertyDescriptor(t.prototype,n);void 0!==r&&void 0===r.get&&(e.prototype[n]=t.prototype[n])})})}!function(e){function t(e,t,n,r){return(e-n)*(e-n)+(t-r)*(t-r)}e.Box=class{constructor(e=0,t=0,n=0,r=0){this.x=e,this.y=t,this.w=n,this.h=r}set(e,t,n,r){this.x=e,this.y=t,this.w=n,this.h=r}contains(e,t){return this.x<=e&&this.x+this.w>=e&&this.y<=t&&this.y+this.h>=t}intersects(e){return this.x<=e.x+e.w&&this.x+this.w>=e.x&&this.y<=e.y+e.h&&this.y+this.h>=e.y}},e.distSquared=t,e.computeSquaredLineLength=function(e){let t=0;const n=e.length-4;for(let r=0;r<n;r+=3){const n=e[r+3]-e[r],o=e[r+4]-e[r+1];t+=n*n+o*o}return t},e.distToSegmentSquared=function(e,n,r,o,i,s){const u=t(r,o,i,s);if(0===u)return t(e,n,r,o);let c=((e-r)*(i-r)+(n-o)*(s-o))/u;return c=Math.max(0,Math.min(1,c)),t(e,n,r+c*(i-r),o+c*(s-o))}}(f||(f={})),function(e){function t(e,t,n){return e<t?t:e>n?n:e}e.clamp=t,e.lerp=function(e,t,n){return e*(1-n)+t*n},e.smoothStep=function(e,n,r){return(r=t((r-e)/(n-e),0,1))*r*(3-2*r)},e.smootherStep=function(e,n,r){return(r=t((r-e)/(n-e),0,1))*r*r*(r*(6*r-15)+10)},e.map=function(e,t,n,r,o){return(e-t)*(o-r)/(n-t)+r},e.min2=function(e,t){let n;return void 0!==e&&(n=e),void 0!==t&&(n=void 0===n?t:Math.min(n,t)),n},e.max2=function(e,t){let n;return void 0!==e&&(n=e),void 0!==t&&(n=void 0===n?t:Math.max(n,t)),n},e.isClamped=function(e,t,n){return!(void 0!==t&&e<t)&&!(void 0!==n&&e>n)},e.easeInOutCubic=function(e,t,n){return e+(t-e)*(n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1)}}(p||(p={}));const g=!0;function v(e,t){if(!g&&!e)throw new Error(void 0!==t?t:"ASSERTION failed")}function m(e,t){if(!g&&null==e)throw new Error(void 0!==t?t:"ASSERTION failed: Element is undefined or null");return e}class y{constructor(e,t){this.m_logger=e,this.headerMessage=t,this.context=[],this.m_headerLogged=!1,this.warn=this.createLogMethod("warn"),this.info=this.createLogMethod("info"),this.error=this.createLogMethod("error")}pushAttr(e){this.context.push(`${this.context.length>0?".":""}${e}`)}pushIndex(e){this.context.push(`[${e}]`)}pop(){this.context.pop()}createLogMethod(e){return(t,...n)=>{this.m_headerLogged||(this.m_logger.info(this.headerMessage),this.m_headerLogged=!0),this.m_logger[e](`${this.context.join("")}: ${t}`,...n)}}}class w{static now(){return w.nowFunc()}static getNowFunc(){return"undefined"!=typeof performance&&void 0!==performance.now?()=>performance.now():()=>(new Date).getTime()}}function _(e){const t=new Map;const n=function e(n){if(null===n)return null;if("object"==typeof n){const r=t.get(n);if(void 0!==r)return r;if(Array.isArray(n)){const r=[];t.set(n,r),r.length=n.length;for(let t=0;t<r.length;++t)r[t]=e(n[t]);return r}if(n instanceof Date){const e=new Date(n.getTime());return t.set(n,e),e}if(n instanceof RegExp){const e=new RegExp(n.source,n.flags);return t.set(n,e),e}if(n.constructor!==Object)throw new Error("cloneDeep doesn't support objects with custom prototypes");{const r={};t.set(n,r);for(const t in n)n.hasOwnProperty(t)&&(r[t]=e(n[t]));return r}}return n}(e);return t.clear(),n}function b(...e){for(const t of e)if(null!=t)return t}function L(e,t){if(x.test(t))return t;if(t.startsWith("/")){return O(e)+t}return t.startsWith("./")&&(t=t.substr(2)),E(e)+t}w.instance=new w,w.nowFunc=w.getNowFunc();const x=new RegExp("^(?:[a-z]+:)?//","i");function E(e){if(void 0===e)return"./";let t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),t=e.indexOf("?"),-1!==t&&(e=e.slice(0,t)),t=e.lastIndexOf("/"),-1===t?"./":e.substring(0,t+1)}function O(e){if(void 0===e)return"";const t=function(e){const t=new RegExp(/^(?:([a-z]+:))?\/\/([^\/]*)/,"i"),n=e.match(t);if(!n)throw new Error(`getUrlHostAndProtocol: unable to parse URL '${e}'`);return{protocol:n[1],host:n[2]}}(e);return"file:"===t.protocol?"file://":t.host&&t.protocol?t.protocol+"//"+t.host:t.host?"//"+t.host:t.protocol?t.protocol+"//":""}class M{constructor(e){this.parentUri=e}resolveUri(e){return L(this.parentUri,e)}}function A(...e){return{resolveUri:t=>e.reduce((e,t)=>void 0!==t?t.resolveUri(e):e,t)}}function j(){if("undefined"==typeof window){if(void 0!==G)return G;throw new Error("getAppBaseUrl: no appBaseUrl defined in worker context, use setAppBaseUrl")}return E(window.location.href)}let G;function T(e){G=e}function R(e,t){return function(...n){return e&&e.apply(this,n),t.apply(this,n)}}n.d(t,"h",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"j",(function(){return c})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return v})),n.d(t,"m",(function(){return m})),n.d(t,"a",(function(){return y})),n.d(t,"g",(function(){return w})),n.d(t,"o",(function(){return _})),n.d(t,"r",(function(){return b})),n.d(t,"i",(function(){return M})),n.d(t,"p",(function(){return A})),n.d(t,"t",(function(){return L})),n.d(t,"s",(function(){return O})),n.d(t,"q",(function(){return j})),n.d(t,"u",(function(){return T})),n.d(t,"n",(function(){return R}))},53:function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return u}));var r=n(5),o=n(3),i=n(27),s=n(57);function u(){let e;const t=new i.EventEmitter;self.addEventListener("message",n=>{const i=n.data;switch(i.type){case"mapview-worker-init":{Object(o.u)(i.baseUrl);const t=i.canvas;t.style={width:`${i.clientWidth}px`,height:`${i.clientHeight}px`},t.clientWidth=i.clientWidth,t.clientHeight=i.clientHeight,e=Object(s.createMap)({canvas:t,pixelRatio:i.pixelRatio})}break;case"resize":e.canvas.style={width:`${i.width}px`,height:`${i.height}px`},e.canvas.clientHeight=i.height,e.canvas.clientWidth=i.width,e.resize(i.width,i.height);break;case"lookAt":e.lookAt(new r.b(i.lat,i.long),i.distance,i.tiltDeg,i.headingDeg);break;case"beginAnimation":e.beginAnimation();break;case"addEventListener":0===t.listenerCount(i.name)&&e.addEventListener(i.name,e=>{self.postMessage({type:"event",eventName:e.type,data:{type:e.type,time:e.time}})})}})}}}]);
//# sourceMappingURL=5-chunk.bundle.js.map