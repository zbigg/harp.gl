!function(e){function t(t){for(var n,o,s=t[0],i=t[1],u=0,l=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&l.push(r[o][0]),r[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(c&&c(t);l.length;)l.shift()()}var n={},r={3:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=s);var i,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=function(e){return o.p+""+({0:"mapview-main"}[e]||e)+"-chunk.bundle.js"}(e);var c=new Error;i=function(t){u.onerror=u.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",c.name="ChunkLoadError",c.type=o,c.request=s,n[1](c)}r[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:u})}),12e4);u.onerror=u.onload=i,document.head.appendChild(u)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var s=(self||this).webpackJsonp=(self||this).webpackJsonp||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=i;o(o.s=52)}({27:function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,s=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function u(){u.init.call(this)}e.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var c=10;function l(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function a(e,t,n,r){var o,s,i,u;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),i=s[t]),void 0===i)i=s[t]=n,++e._eventsCount;else if("function"==typeof i?i=s[t]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n),(o=l(e))>0&&i.length>o&&!i.warned){i.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=i.length,u=c,console&&console.warn&&console.warn(u)}return e}function h(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,s(this.listener,this.target,e))}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=h.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):m(o,o.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return l(this)},u.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var u=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw u.context=i,u}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)s(c,this,t);else{var l=c.length,a=m(c,l);for(n=0;n<l;++n)s(a[n],this,t)}return!0},u.prototype.addListener=function(e,t){return a(this,e,t,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(e,t){return a(this,e,t,!0)},u.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,f(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,f(this,e,t)),this},u.prototype.removeListener=function(e,t){var n,r,o,s,i;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){i=n[s].listener,o=s;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,i||t)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(o=s[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},u.prototype.listeners=function(e){return p(this,e,!0)},u.prototype.rawListeners=function(e){return p(this,e,!1)},u.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},u.prototype.listenerCount=d,u.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},3:function(e,t,n){"use strict";class r{constructor(e,t=new Array){this.priority=e,this.elements=t}clone(){return new r(this.priority,this.elements.slice())}}class o{constructor(){this.groups=new Map}add(e){this.getGroup(e.priority).elements.push(e)}remove(e){const t=this.getGroup(e.priority);if(void 0!==t){const n=t.elements.indexOf(e);if(n>=0){if(t.elements.splice(n,1),0===t.elements.length){const t=Math.floor(e.priority);this.groups.delete(t),this.m_sortedGroups&&(this.m_sortedGroups=[])}return!0}}return!1}clear(){this.groups.clear(),this.m_sortedGroups&&(this.m_sortedGroups=[])}merge(e){for(const t of e.groups){const e=this.findGroup(t[1].priority);void 0!==e?e.elements=e.elements.concat(t[1].elements):(this.groups.set(Math.floor(t[1].priority),t[1].clone()),this.m_sortedGroups&&(this.m_sortedGroups=[]))}return this}get sortedGroups(){if(this.m_sortedGroups&&this.m_sortedGroups.length>0)return this.m_sortedGroups;this.m_sortedGroups||(this.m_sortedGroups=[]);for(const e of this.groups)this.m_sortedGroups.push(e[1]);return this.m_sortedGroups.sort((e,t)=>t.priority-e.priority),this.m_sortedGroups}forEach(e){for(const t of this.groups)t[1].elements.forEach(e)}count(){let e=0;for(const t of this.groups)e+=t[1].elements.length;return e}findGroup(e){const t=Math.floor(e);return this.groups.get(t)}getGroup(e){let t=this.findGroup(e);if(void 0===t){const n=Math.floor(e);t=new r(n),this.groups.set(n,t),this.m_sortedGroups&&(this.m_sortedGroups=[])}return t}}class s{error(e,...t){console.error(e,...t)}debug(e,...t){console.debug(e,...t)}info(e,...t){console.info(e,...t)}log(e,...t){console.log(e,...t)}trace(e,...t){console.trace(e,...t)}warn(e,...t){console.warn(e,...t)}}var i;!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Log=2]="Log",e[e.Info=3]="Info",e[e.Warn=4]="Warn",e[e.Error=5]="Error"}(i||(i={}));class u{constructor(e,t,n){this.name=e,this.m_channel=t,this.enabled=!0,this.level=i.Trace,void 0!==n&&this.update(n)}error(e,...t){this.enabled&&this.level<=i.Error&&this.m_channel.error(this.prefix,e,...t)}debug(e,...t){this.enabled&&this.level<=i.Debug&&this.m_channel.debug(this.prefix,e,...t)}info(e,...t){this.enabled&&this.level<=i.Info&&this.m_channel.info(this.prefix,e,...t)}log(e,...t){this.enabled&&this.level<=i.Log&&this.m_channel.log(this.prefix,e,...t)}trace(e,...t){this.enabled&&this.level<=i.Trace&&this.m_channel.trace(this.prefix,e,...t)}warn(e,...t){this.enabled&&this.level<=i.Warn&&this.m_channel.warn(this.prefix,e,...t)}update(e){this.enabled=void 0===e.enabled?this.enabled:e.enabled,this.level=void 0===e.level?this.level:e.level}get prefix(){return this.name+":"}}const c="worker-channel-message";class l{error(e,...t){const n={message:[e,...t],type:c,level:i.Error};self.postMessage(n)}debug(e,...t){const n={message:[e,...t],type:c,level:i.Debug};self.postMessage(n)}info(e,...t){const n={message:[e,...t],type:c,level:i.Info};self.postMessage(n)}log(e,...t){const n={message:[e,...t],type:c,level:i.Log};self.postMessage(n)}trace(e,...t){const n={message:[e,...t],type:c,level:i.Trace};self.postMessage(n)}warn(e,...t){const n={message:[e,...t],type:c,level:i.Warn};self.postMessage(n)}}class a{constructor(){this.m_loggers=[],this.channel="undefined"==typeof self||void 0!==self.document?new s:new l}getLoggerNames(){return this.m_loggers.map(e=>e.name)}getLogger(e){return this.m_loggers.find(t=>t.name===e)}create(e,t={}){void 0!==this.m_levelSetForAll&&(void 0===t.level||t.level<this.m_levelSetForAll)&&(t.level=this.m_levelSetForAll);const n=new u(e,this.channel,t);return this.m_loggers.push(n),n}dispose(e){const t=this.m_loggers.indexOf(e);if(t<0)throw new Error(`Cannot unregister "${e}" : no such logger registered.`);this.m_loggers.splice(t,1)}updateAll(e){for(const t of this.m_loggers)t.update(e)}update(e,t){for(const n of this.m_loggers)n.name===e&&n.update(t)}enableAll(e){for(const t of this.m_loggers)t.enabled=e}enable(e,t){this.update(e,{enabled:t})}setLogLevelForAll(e){this.m_levelSetForAll=e;for(const t of this.m_loggers)t.level=e}setLogLevel(e,t){this.update(e,{level:t})}setChannel(e){this.channel=e}}class h{static get instance(){return this.m_instance||(this.m_instance=new a)}}var f,p;function d(e,t){t.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(n=>{const r=Object.getOwnPropertyDescriptor(t.prototype,n);void 0!==r&&void 0===r.get&&(e.prototype[n]=t.prototype[n])})})}!function(e){function t(e,t,n,r){return(e-n)*(e-n)+(t-r)*(t-r)}e.Box=class{constructor(e=0,t=0,n=0,r=0){this.x=e,this.y=t,this.w=n,this.h=r}set(e,t,n,r){this.x=e,this.y=t,this.w=n,this.h=r}contains(e,t){return this.x<=e&&this.x+this.w>=e&&this.y<=t&&this.y+this.h>=t}intersects(e){return this.x<=e.x+e.w&&this.x+this.w>=e.x&&this.y<=e.y+e.h&&this.y+this.h>=e.y}},e.distSquared=t,e.computeSquaredLineLength=function(e){let t=0;const n=e.length-4;for(let r=0;r<n;r+=3){const n=e[r+3]-e[r],o=e[r+4]-e[r+1];t+=n*n+o*o}return t},e.distToSegmentSquared=function(e,n,r,o,s,i){const u=t(r,o,s,i);if(0===u)return t(e,n,r,o);let c=((e-r)*(s-r)+(n-o)*(i-o))/u;return c=Math.max(0,Math.min(1,c)),t(e,n,r+c*(s-r),o+c*(i-o))}}(f||(f={})),function(e){function t(e,t,n){return e<t?t:e>n?n:e}e.clamp=t,e.lerp=function(e,t,n){return e*(1-n)+t*n},e.smoothStep=function(e,n,r){return(r=t((r-e)/(n-e),0,1))*r*(3-2*r)},e.smootherStep=function(e,n,r){return(r=t((r-e)/(n-e),0,1))*r*r*(r*(6*r-15)+10)},e.map=function(e,t,n,r,o){return(e-t)*(o-r)/(n-t)+r},e.min2=function(e,t){let n;return void 0!==e&&(n=e),void 0!==t&&(n=void 0===n?t:Math.min(n,t)),n},e.max2=function(e,t){let n;return void 0!==e&&(n=e),void 0!==t&&(n=void 0===n?t:Math.max(n,t)),n},e.isClamped=function(e,t,n){return!(void 0!==t&&e<t)&&!(void 0!==n&&e>n)},e.easeInOutCubic=function(e,t,n){return e+(t-e)*(n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1)}}(p||(p={}));const m=!0;function g(e,t){if(!m&&!e)throw new Error(void 0!==t?t:"ASSERTION failed")}function v(e,t){if(!m&&null==e)throw new Error(void 0!==t?t:"ASSERTION failed: Element is undefined or null");return e}class y{constructor(e,t){this.m_logger=e,this.headerMessage=t,this.context=[],this.m_headerLogged=!1,this.warn=this.createLogMethod("warn"),this.info=this.createLogMethod("info"),this.error=this.createLogMethod("error")}pushAttr(e){this.context.push(`${this.context.length>0?".":""}${e}`)}pushIndex(e){this.context.push(`[${e}]`)}pop(){this.context.pop()}createLogMethod(e){return(t,...n)=>{this.m_headerLogged||(this.m_logger.info(this.headerMessage),this.m_headerLogged=!0),this.m_logger[e](`${this.context.join("")}: ${t}`,...n)}}}class w{static now(){return w.nowFunc()}static getNowFunc(){return"undefined"!=typeof performance&&void 0!==performance.now?()=>performance.now():()=>(new Date).getTime()}}function b(e){const t=new Map;const n=function e(n){if(null===n)return null;if("object"==typeof n){const r=t.get(n);if(void 0!==r)return r;if(Array.isArray(n)){const r=[];t.set(n,r),r.length=n.length;for(let t=0;t<r.length;++t)r[t]=e(n[t]);return r}if(n instanceof Date){const e=new Date(n.getTime());return t.set(n,e),e}if(n instanceof RegExp){const e=new RegExp(n.source,n.flags);return t.set(n,e),e}if(n.constructor!==Object)throw new Error("cloneDeep doesn't support objects with custom prototypes");{const r={};t.set(n,r);for(const t in n)n.hasOwnProperty(t)&&(r[t]=e(n[t]));return r}}return n}(e);return t.clear(),n}function _(...e){for(const t of e)if(null!=t)return t}function x(e,t){if(L.test(t))return t;if(t.startsWith("/")){return O(e)+t}return t.startsWith("./")&&(t=t.substr(2)),E(e)+t}w.instance=new w,w.nowFunc=w.getNowFunc();const L=new RegExp("^(?:[a-z]+:)?//","i");function E(e){if(void 0===e)return"./";let t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),t=e.indexOf("?"),-1!==t&&(e=e.slice(0,t)),t=e.lastIndexOf("/"),-1===t?"./":e.substring(0,t+1)}function O(e){if(void 0===e)return"";const t=function(e){const t=new RegExp(/^(?:([a-z]+:))?\/\/([^\/]*)/,"i"),n=e.match(t);if(!n)throw new Error(`getUrlHostAndProtocol: unable to parse URL '${e}'`);return{protocol:n[1],host:n[2]}}(e);return"file:"===t.protocol?"file://":t.host&&t.protocol?t.protocol+"//"+t.host:t.host?"//"+t.host:t.protocol?t.protocol+"//":""}class M{constructor(e){this.parentUri=e}resolveUri(e){return x(this.parentUri,e)}}function j(...e){return{resolveUri:t=>e.reduce((e,t)=>void 0!==t?t.resolveUri(e):e,t)}}function S(){if("undefined"==typeof window){if(void 0!==T)return T;throw new Error("getAppBaseUrl: no appBaseUrl defined in worker context, use setAppBaseUrl")}return E(window.location.href)}let T;function A(e){T=e}function k(e,t){return function(...n){return e&&e.apply(this,n),t.apply(this,n)}}n.d(t,"h",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return h})),n.d(t,"j",(function(){return c})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return g})),n.d(t,"m",(function(){return v})),n.d(t,"a",(function(){return y})),n.d(t,"g",(function(){return w})),n.d(t,"o",(function(){return b})),n.d(t,"r",(function(){return _})),n.d(t,"i",(function(){return M})),n.d(t,"p",(function(){return j})),n.d(t,"t",(function(){return x})),n.d(t,"s",(function(){return O})),n.d(t,"q",(function(){return S})),n.d(t,"u",(function(){return A})),n.d(t,"n",(function(){return k}))},32:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);n(32);var r=n(3),o=n(27);const s="https://www.harp.gl/docs/";document.querySelector(".examples-link").href=s+"master/examples/",document.querySelector(".docs-link").href=s+"master/doc/",document.querySelector("#docs-nav").href=s+"master/doc/",document.querySelector("#examples-nav").href=s+"master/examples/",document.querySelector("#docs-nav-mobile").href=s+"master/doc/",document.getElementById("year").innerText=`${(new Date).getFullYear()}`;const i=[{date:"latest",hash:"master",version:"latest-dev"}],u=document.querySelector("select[name=versions]");async function c(e){return"function"==typeof e.transferControlToOffscreen?(console.log("#starting mapview in worker"),async function(e){const t=e.transferControlToOffscreen(),n=new Worker("mapview-worker.bundle.js");n.addEventListener("error",e=>{console.log("MapViewWorkerFacade#error!",e)}),n.postMessage({type:"mapview-worker-init",canvas:t,baseUrl:Object(r.q)(),clientHeight:e.clientHeight,clientWidth:e.clientWidth,pixelRatio:window.devicePixelRatio},[t]);const s=new o.EventEmitter;return n.addEventListener("message",e=>{const t=e.data;"event"===t.type&&s.emit(t.eventName,t.data)}),{resize(e,t){n.postMessage({type:"resize",width:e,height:t})},addEventListener(e,t){0===s.listenerCount(e)&&n.postMessage({type:"addEventListener",name:e}),s.on(e,t)},lookAt(e,t,r,o){n.postMessage({type:"lookAt",lat:e.latitude,long:e.longitude,distance:t,tiltDeg:r,headingDeg:o})},beginAnimation(){n.postMessage({type:"beginAnimation"})}}}(e)):(console.log("#starting mapview in main thread"),Promise.all([n.e(1),n.e(0)]).then(n.bind(null,57)).then(({createMap:t})=>t({canvas:e})))}fetch("./releases.json").then(e=>e.json()).then(e=>{i.push(...e),i.forEach(e=>{const t=document.createElement("option");t.innerText=e.version,u.appendChild(t)}),u.onchange=()=>{const e=u.querySelector("option:checked"),t=i.find(t=>t.version===e.innerText);if(!t)return;const n=t.hash,r=t.version;document.querySelector(".examples-link").href=s+n+"/examples/",document.querySelector(".examples-link").innerText="Examples"+("master"!==n?` (${r})`:""),document.querySelector(".docs-link").href=s+n+"/doc/",document.querySelector(".docs-link").innerText="Documentation"+("master"!==n?` (${r})`:"")}}).catch(()=>{const e=document.createElement("option");e.innerText="master",u.appendChild(e)}),async function(){const e=document.getElementById("map"),t=await c(e);t.resize(window.innerWidth,500),window.addEventListener("resize",()=>t.resize(window.innerWidth,500)),t.addEventListener("frame-complete",()=>{console.log("#FirstFrameComplete, showing canvas"),e.style.opacity="1"})}()}});
//# sourceMappingURL=index.bundle.js.map